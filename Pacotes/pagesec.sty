%=========================================================================================
\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{pagesec}[2025/07/15]

\RequirePackage{fancyhdr}%estilo de pag
\RequirePackage{titlesec}%Formatar titulos

%==================================================================
%cabeçalho e rodapé
\pagestyle{fancy}
\fancyhf{}%limpa estilo prédefiido
%===========================================
\renewcommand{\headrule}{}%retira linha
\renewcommand{\footrule}{}
%===========================================
\fancypagestyle{plain}{
\fancyhf{}%\renewcommand{\headrulewidth}{15pt}
}

\fancypagestyle{body}{%
\fancyhf{}%
\fancyhead[R]{\footnotesize\hyperref[toc]{\thepage}\hspace{1cm}}%
}

%==================================================================
\newcounter{append}\setcounter{append}{0}
\renewcommand{\theappend}{\Alph{append}}
\titleclass{\append}[0]{straight}
\titleformat{\append}[hang]{\bfseries\inittit}{APÊNDICE \theappend\ - }{0em}{\MakeUppercase}
\titlespacing{\append}{0em}{0cm}{36pt}
\def\appendautorefname{Apêndice}
\pretocmd{\append}{\clearpage}{}{}

\newcounter{anex}\setcounter{anex}{0}
\renewcommand{\theanex}{\Alph{anex}}
\titleclass{\anex}[0]{straight}
\titleformat{\anex}[hang]{\bfseries\inittit}{ANEXO \theanex\ - }{0em}{\MakeUppercase}
\titlespacing{\anex}{0em}{0cm}{36pt}
\def\anexautorefname{Anexo}
\pretocmd{\anex}{\clearpage}{}{}

\newcounter{finalsection}\setcounter{finalsection}{0}
\renewcommand{\thefinalsection}{}
\titleclass{\finalsection}[0]{straight}
\titleformat{\finalsection}[hang]{\bfseries\inittit}{}{0em}{\MakeUppercase}
\titlespacing{\finalsection}{0em}{0cm}{36pt}
\def\finalsectionautorefname{}
\pretocmd{\finalsection}{\clearpage}{}{}
%==================================================================
\def\padtit{\normalsize\filright}
\def\inittit{\normalsize\centering}
\def\initsec{
	\titleformat{\chapter}[hang]{\bfseries\inittit}{}{0em}{\MakeUppercase}
	\titlespacing{\chapter}{0em}{0cm}{36pt}
	\renewcommand{\thechapter}{}
}

\def\bodysec{
	\titleformat{\chapter}		[hang]{\bfseries\padtit}	{\thechapter}		{1em}{\MakeUppercase}
	\titleformat{\section}		[hang]{\padtit}				{\thesection}		{1em}	{\MakeUppercase}
	\titleformat{\subsection}	[hang]{\FloatBarrier\padtit}{\thesubsection}	{1em}{}
	\titleformat{\subsubsection}[hang]{\FloatBarrier\padtit}{\thesubsubsection}	{1em}{}
	\titleformat{\paragraph}	[hang]{\FloatBarrier\padtit}{\theparagraph}		{1em}{}

	%espaçamento
	\titlespacing{\chapter}		 {0cm}{0cm} {36pt}
	\titlespacing{\section}		 {0em}{36pt}{36pt}
	\titlespacing{\subsection}	 {0em}{36pt}{36pt}
	\titlespacing{\subsubsection}{0em}{36pt}{36pt}
	\titlespacing{\paragraph}	 {0em}{36pt}{36pt}

	%formato  do numero
	\renewcommand{\thechapter}		{\arabic{chapter}}
	\renewcommand{\thesection}		{\thechapter.\arabic{section}}
	\renewcommand{\thesubsection}	{\thesection.\arabic{subsection}}
	\renewcommand{\thesubsubsection}{\thesubsection.\arabic{subsubsection}}
	\renewcommand{\theparagraph}	{\thesubsubsection.\arabic{paragraph}}

	%capitulo é fancy
	\assignpagestyle{\chapter}{body}
	\pagestyle{body}
}